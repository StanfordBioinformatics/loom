LOOM_SERVER_NAME: loom-gcloud
LOOM_LOG_LEVEL: INFO
LOOM_DEBUG: True

LOOM_START_SERVER_PLAYBOOK: gcloud_start_server.yml
LOOM_STOP_SERVER_PLAYBOOK: gcloud_stop_server.yml
LOOM_DELETE_SERVER_PLAYBOOK: gcloud_delete_server.yml
LOOM_RUN_TASK_PLAYBOOK: gcloud_run_task.yml
LOOM_CLEANUP_TASK_PLAYBOOK: gcloud_cleanup_task.yml

LOOM_STORAGE_TYPE: google_storage
LOOM_STORAGE_ROOT: /loom-data

LOOM_ANSIBLE_HOST_KEY_CHECKING: False
LOOM_ANSIBLE_INVENTORY: gce_wrapper.py

LOOM_DOCKER_IMAGE: registry.hub.docker.com/loomengine/loom:development

LOOM_HTTP_PORT: 80
LOOM_HTTPS_PORT: 443
LOOM_HTTP_PORT_ENABLED: False
LOOM_HTTPS_PORT_ENABLED: True
LOOM_HTTP_REDIRECT_TO_HTTPS: True

LOOM_SSL_CERT_CREATE_NEW: True
LOOM_SSL_CERT_C: US
LOOM_SSL_CERT_ST: California
LOOM_SSL_CERT_L: Palo Alto
LOOM_SSL_CERT_O: Stanford University
LOOM_SSL_CERT_KEY_FILE: ssl.key
LOOM_SSL_CERT_FILE: ssl.crt

LOOM_MASTER_CONTAINER_NAME_SUFFIX: -master
LOOM_MASTER_INTERNAL_IP: 0.0.0.0
LOOM_MASTER_INTERNAL_PORT: 8000
LOOM_MASTER_ALLOWED_HOSTS: ['*']
LOOM_MASTER_GUNICORN_WORKERS_COUNT: 5
LOOM_MASTER_STATIC_ROOT: /var/www/loom/static
LOOM_MASTER_CORS_ORIGIN_ALLOW_ALL: False
LOOM_MASTER_CORS_ORIGIN_WHITELIST: []

LOOM_WORKER_CONTAINER_NAME_SUFFIX: -worker
LOOM_WORKER_CELERY_CONCURRENCY: 30

# if True, runs MySQL in Docker on the server, ignoring LOOM_MYSQL_HOST and LOOM_MYSQL_PORT
LOOM_MYSQL_CREATE_DOCKER_CONTAINER: True

# These three are used if LOOM_MYSQL_CREATE_DOCKER_CONTAINER is True
LOOM_MYSQL_IMAGE: mysql:5.7.17
LOOM_MYSQL_CONTAINER_NAME_SUFFIX: -mysql
LOOM_MYSQL_RANDOM_ROOT_PASSWORD: True

# These two are used if LOOM_MYSQL_CREATE_DOCKER_CONTAINER is False
LOOM_MYSQL_HOST:
LOOM_MYSQL_PORT: 3306

LOOM_MYSQL_USER: loom
LOOM_MYSQL_PASSWORD: loom_pass
LOOM_MYSQL_DATABASE: loom_db
LOOM_MYSQL_SSL_CA_CERT_FILE:
LOOM_MYSQL_SSL_CLIENT_CERT_FILE:
LOOM_MYSQL_SSL_CLIENT_KEY_FILE:

LOOM_SCHEDULER_CONTAINER_NAME_SUFFIX: -scheduler

LOOM_RABBITMQ_CONTAINER_NAME_SUFFIX: -rabbitmq
LOOM_RABBITMQ_IMAGE: rabbitmq:3.6.6
LOOM_RABBITMQ_MANAGEMENT_IMAGE: rabbitmq:3.6.8-management
LOOM_RABBITMQ_USER: guest
LOOM_RABBITMQ_PASSWORD: guest
LOOM_RABBITMQ_PORT: 5672
LOOM_RABBITMQ_VHOST: /

LOOM_NGINX_CONTAINER_NAME_SUFFIX: -nginx
LOOM_NGINX_IMAGE: nginx:1.11
LOOM_NGINX_SERVER_NAME: localhost
LOOM_NGINX_WEBPORTAL_ROOT: /loomengine/loomengine/portal

LOOM_FLUENTD_IMAGE: loomengine/fluentd-forest-googlecloud
LOOM_FLUENTD_CONTAINER_NAME_SUFFIX: -fluentd
LOOM_FLUENTD_PORT: 24224
LOOM_FLUENTD_OUTPUT_PLUGIN: google_cloud

LOOM_GCE_PEM_FILE: key.json
LOOM_GCE_EMAIL:
LOOM_GCE_PROJECT:
LOOM_GOOGLE_STORAGE_BUCKET:

LOOM_GCLOUD_SERVER_BOOT_DISK_TYPE: pd-standard
LOOM_GCLOUD_SERVER_BOOT_DISK_SIZE_GB: 50
LOOM_GCLOUD_SERVER_INSTANCE_IMAGE: centos-7
LOOM_GCLOUD_SERVER_INSTANCE_TYPE: n1-standard-1
LOOM_GCLOUD_SERVER_NETWORK: default
LOOM_GCLOUD_SERVER_SUBNETWORK:
LOOM_GCLOUD_SERVER_TAGS: http-server,https-server
LOOM_GCLOUD_SERVER_ZONE: us-central1-a
LOOM_GCLOUD_SERVER_SKIP_INSTALLS: False
LOOM_GCLOUD_SERVER_EXTERNAL_IP: ephemeral       ; none, ephemeral, or desired IP

LOOM_GCLOUD_WORKER_BOOT_DISK_TYPE: pd-standard
LOOM_GCLOUD_WORKER_BOOT_DISK_SIZE_GB: 50
LOOM_GCLOUD_WORKER_SCRATCH_DISK_TYPE: pd-standard
LOOM_GCLOUD_WORKER_SCRATCH_DISK_MIN_SIZE_GB: 10
LOOM_GCLOUD_WORKER_INSTANCE_IMAGE: centos-7
LOOM_GCLOUD_WORKER_INSTANCE_TYPE: n1-standard-1
LOOM_GCLOUD_WORKER_NETWORK: default
LOOM_GCLOUD_WORKER_SUBNETWORK:
LOOM_GCLOUD_WORKER_TAGS:
LOOM_GCLOUD_WORKER_ZONE: us-central1-a
LOOM_GCLOUD_WORKER_SKIP_INSTALLS: False
LOOM_GCLOUD_WORKER_EXTERNAL_IP: ephemeral       ; none, ephemeral, or desired IP
LOOM_GCLOUD_WORKER_CONNECTION_SETTINGS_FILE: worker-connection-settings.conf

LOOM_GCLOUD_WORKER_USES_SERVER_INTERNAL_IP: True
LOOM_GCLOUD_CLIENT_USES_SERVER_INTERNAL_IP: False
LOOM_GCLOUD_SERVER_USES_WORKER_INTERNAL_IP: True

LOOM_TASKRUNNER_CONTAINER_NAME_SUFFIX: -taskrunner
LOOM_TASKRUNNER_HEARTBEAT_INTERVAL_SECONDS: 60
LOOM_TASKRUNNER_HEARTBEAT_TIMEOUT_SECONDS: 150
LOOM_PRESERVE_ON_FAILURE: False
LOOM_PRESERVE_ALL: False
LOOM_MAXIMUM_TASK_RETRIES: 2
WORKER_TYPE: GCLOUD

LOOM_FLOWER_INTERNAL_PORT: 5555
LOOM_FLOWER_CONTAINER_NAME_SUFFIX: -flower

LOOM_SSH_PRIVATE_KEY_NAME: loom_id_rsa
